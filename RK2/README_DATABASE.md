# Инструкция по настройке базы данных

## Проблема: нет подключения к базе данных

### Решение 1: Импорт базы данных через phpMyAdmin (рекомендуется)

1. Убедитесь, что сервер MySQL запущен (через XAMPP Control Panel запустите MySQL)
2. Откройте браузер и перейдите на `http://localhost/phpmyadmin`
3. В левом меню выберите "Новая" или создайте базу данных с именем `tech_shop`
4. Выберите базу данных `tech_shop`
5. Нажмите на вкладку "Импорт"
6. Нажмите "Выбрать файл" и выберите файл `database.sql`
7. Нажмите кнопку "Вперёд" внизу страницы
8. Дождитесь сообщения об успешном импорте

### Решение 2: Импорт через командную строку

Откройте командную строку (cmd) и выполните:

```bash
mysql -u root -p < database.sql
```

Если пароль пустой (как в XAMPP), попробуйте:

```bash
mysql -u root < database.sql
```

### Решение 3: Ручное создание базы данных

Если импорт не работает, можно выполнить команды вручную через phpMyAdmin:

1. Откройте phpMyAdmin
2. Перейдите на вкладку "SQL"
3. Скопируйте содержимое файла `database.sql`
4. Вставьте в текстовое поле
5. Нажмите "Вперёд"

### Проверка подключения

После импорта базы данных:

1. Убедитесь, что MySQL сервер запущен
2. Проверьте настройки в файле `db.php`:
   - `$DB_HOST = 'localhost'` (обычно правильно)
   - `$DB_USER = 'root'` (обычно правильно для XAMPP)
   - `$DB_PASS = ''` (пустой пароль для XAMPP по умолчанию)
   - `$DB_NAME = 'tech_shop'` (имя должно совпадать с созданной базой)

3. Откройте сайт в браузере - если подключение успешно, страница должна загрузиться без ошибок

### Создание администратора

После создания базы данных вы можете создать администратора через phpMyAdmin:

1. Откройте phpMyAdmin
2. Выберите базу данных `tech_shop`
3. Откройте таблицу `users`
4. Нажмите "Вставить"
5. Заполните поля:
   - `name`: ваше имя
   - `email`: ваш email
   - `pass_hash`: используйте функцию `PASSWORD('ваш_пароль')` в SQL или используйте PHP функцию `password_hash()`
   - `is_admin`: установите в `1`

Или выполните SQL запрос (замените значения):

```sql
INSERT INTO users (name, email, pass_hash, is_admin) 
VALUES ('Админ', 'admin@example.com', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 1);
```

Пароль для этого хеша: `password` (рекомендуется изменить!)

